<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="csrf-token" content={get_csrf_token()} />
    <.live_title suffix=" Â· PairDance">
      <%= assigns[:page_title] || "" %>
    </.live_title>
    <link phx-track-static rel="stylesheet" href={~p"/assets/app.css"} />
    <script defer phx-track-static type="text/javascript" src={~p"/assets/app.js"}>
    </script>
  </head>
  <body class="bg-ghost text-gloom antialiased mx-auto max-w-6xl">
    <header class="my-10 flex flex-row justify-between">
      <.link href={~p"/"} class="button">
        <h1 class="text-3xl">Pair Dance</h1>
      </.link>
      <div class="py-2">
        <%= if @current_user do %>
          <p>
            Hi, <%= @current_user.name %>. <.link href={~p"/auth/logout"} class="button underline">Log out</.link>.
          </p>
        <% end %>
      </div>
    </header>
    <main>
      <div class="">
        <.flash kind={:info} title="Success!" flash={@flash} />
        <.flash kind={:error} title="Error!" flash={@flash} />
        <.flash
          id="disconnected"
          kind={:error}
          title="We can't find the internet"
          close={false}
          autoshow={false}
          phx-disconnected={show("#disconnected")}
          phx-connected={hide("#disconnected")}
        >
          Attempting to reconnect
          <Heroicons.arrow_path class="ml-1 w-3 h-3 inline animate-spin" />
        </.flash>
        <%= @inner_content %>
      </div>
    </main>
  </body>
  <footer class="text-center my-20">
    <p class="text-xs">
      <Heroicons.heart mini class="h-3 w-3 inline" />
      Pair.dance 2023, source on <a
        target="_blank"
        href="https://github.com/TresAmigosLtd/pair_dance"
      >Github</a>.
    </p>
  </footer>
</html>
